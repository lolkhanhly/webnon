<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đặt hàng</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <style>
        body {
            font-family: Arial, sans-serif;
           background-image: url(./images/phongcanh1.gif);
            background-size: cover;
            background-position: center;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        .container {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            animation: fadeIn 1s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        h2 {
            margin-top: 0;
            text-align: center;
            color: #333;
            animation: slideInDown 1s ease;
        }

        @keyframes slideInDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        form {
            display: flex;
            flex-direction: column;
            animation: slideInUp 1s ease;
        }

        @keyframes slideInUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        label {
            margin-top: 10px;
            font-weight: bold;
            color: #555;
            animation: fadeInLeft 1s ease;
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        input[type="text"],
        input[type="email"],
        textarea,
        select,
        input[type="number"],
        button {
            margin-top: 5px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
            width: 100%;
            box-sizing: border-box;
            animation: fadeInRight 1s ease;
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        button {
            cursor: pointer;
            background-color: #4caf50;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            transition: background-color 0.3s ease;
            animation: zoomIn 1s ease;
        }

        @keyframes zoomIn {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }

        button:hover {
            background-color: #287ec4;
        }

        ul {
            list-style-type: none;
            padding: 0;
            animation: slideInLeft 1s ease;
        }

        @keyframes slideInLeft {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        ul li {
            margin-bottom: 10px;
            padding: 10px;
            background-color: #f2f2f2;
            border: 1px solid #ddd;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: fadeIn 1s ease;
        }

        ul li:hover {
            background-color: #e0e0e0;
        }

        .remove-item {
            background-color: #f44336;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            animation: slideInRight 1s ease;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        #totalPrice {
            font-weight: bold;
            font-size: 18px;
            animation: slideInUp 1s ease;
        }

        @keyframes slideInUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .fa-shopping-cart {
            color: #4caf50;
            margin-right: 5px;
        }

        .cart-icon {
            display: flex;
            align-items: center;
        }
    </style>
</head>
<body>
    <div class="container" style="background-color: rgb(100, 100, 100)">
        <h2 style="color: white">Đặt hàng</h2>
        <form id="orderForm" action="/submit_order" method="post">
            <label style="color: white" for="name">Tên của bạn:</label>
            <input type="text" id="name" name="name" required>

            <label style="color: white" for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label style="color: white" for="address">Địa chỉ giao hàng:</label>
            <textarea id="address" name="address" rows="4" required></textarea>

            <label style="color: white" for="product">Sản phẩm:</label>
            <select id="product" name="product" required>
                <option value="">Chọn sản phẩm</option>
                <option value="product1">Mũ lưỡi trai đen trơn classic khóa đồng cao cấp - $145.000</option>
                <option value="product2">Mũ Phớt Nam Vành Nhỏ Classic Thắt Da Lịch Lãm - $165.000</option>
                <option value="product3">Mũ Phớt Nam Nỉ Classic Cao Cấp Mã MP021 - $145.000</option>
                <option value="product2">Mũ Bucket Vành Tròn Nam, Nữ Phong Cách Hàn Quốc - $127.000</option>
                <option value="product3">Nón Snapback Advisory Phong Cách HipHop Cá Tính - $129.000</option>
                <option value="product2">Mũ Mũ Vành Nam Nữ, Nón Bucket Vải Cotton Cao Cấp Màu Đen, Trắng, Be - $139.000</option>
                <option value="product3">Mũ Lưỡi Trai Hiphop Đẹp Cho Nam và Nữ - $165.000</option>
                <option value="product2">Nón Bucket, Mũ Vành Tròn Nam Nữ 2 Mặt Trơn Classic Cao Cấp - $165.000</option>
                <option value="product3">Mũ Phớt Cói Nam MP02 Thắt Da Lịch Lãm - $145.000</option>
                <option value="product2">Mũ Lưỡi Trai Chóp Vuông Classic Vải Cotton Cao Cấp - $165.000</option>
                <option value="product3">Mũ Len Trùm Đầu Nam, Nữ Lót Lông Cực Ấm - $99.000</option>
                <option value="product2">Mũ Phớt Cói MP06 - $125.000</option>
            </select>

            <label style="color: white" for="quantity">Số lượng:</label>
            <input type="number" id="quantity" name="quantity" min="1" required>
            <button style="background-color: rgb(68, 103, 255)" type="button" onclick="addToCart()">Thêm vào giỏ hàng<i class="fas fa-shopping-cart"></i></button>
            <button style="background-color: rgb(68, 103, 255)" type="button" onclick="resetForm()">Xóa thông tin</button>
            <br>
            <h2 style="color: white">Tổng tiền sản phẩm</h2>
            <ul id="cart"></ul>

            <p style="color: white">Tổng tiền: $<span id="totalPrice">0</span></p>
            <button style="background-color: rgb(68, 103, 255)" type="submit">Đặt hàng và thanh toán</button>
        </form>
    </div>

    <script>
        var cart = [];
        var totalPrice = 0;

        function addToCart() {
            var name = document.getElementById('name').value.trim();
            var email = document.getElementById('email').value.trim();
            var address = document.getElementById('address').value.trim();
            var product = document.getElementById('product').value;
            var quantity = parseInt(document.getElementById('quantity').value);

            if (name === '' || email === '' || address === '' || product === '' || isNaN(quantity) || quantity <= 0) {
                alert('Vui lòng điền đầy đủ và chính xác thông tin.');
                return;
            }

            var productInfo = document.getElementById('product').options[document.getElementById('product').selectedIndex].text;
            var productPrice = parseInt(productInfo.split('$')[1].trim());
            var itemTotal = quantity * productPrice;

            cart.push({
                product: productInfo,
                quantity: quantity,
                total: itemTotal
            });

            totalPrice += itemTotal;

            updateCart();
            updateTotalPrice();
        }

        function updateCart() {
            var cartList = document.getElementById('cart');
            cartList.innerHTML = '';

            cart.forEach(function(item, index) {
                var listItem = document.createElement('li');
                var itemText = document.createTextNode(`${item.product} x ${item.quantity} - $${item.total}`);
                listItem.appendChild(itemText);

                var removeButton = document.createElement('button');
                removeButton.textContent = 'Xóa';
                removeButton.classList.add('remove-item');
                removeButton.onclick = function() {
                    removeItem(index);
                };
                listItem.appendChild(removeButton);

                cartList.appendChild(listItem);
            });
        }

        function removeItem(index) {
            var removedItem = cart.splice(index, 1)[0];
            totalPrice -= removedItem.total;
            updateCart();
            updateTotalPrice();
        }

        function updateTotalPrice() {
            document.getElementById('totalPrice').textContent = totalPrice;
        }

        function resetForm() {
            document.getElementById("orderForm").reset();
            cart = [];
            totalPrice = 0;
            updateCart();
            updateTotalPrice();
        }
    </script>
</body>
</html>
